'use strict'
;(function () {
  // npx esbuild shared\utils\pluginConfig2ComfyNodeDefs.ts --minify
  function pluginConfig2ComfyNodeDefs(i,l=!0){const u={};if(!i||!i.functions)return u;i.functions.forEach(e=>{const o={name:`plugin.${i.plugin_name}.${e.function_name}`,category:`plugins/${i.plugin_name}`,display_name:e.display_name,description:e.description,python_module:`custom_nodes.${i.plugin_name}.${e.function_name}`,input:{},input_order:{},output:[],output_name:[],output_is_list:[],output_node:!1},n=o.input,p=o.input_order;e.input?.source&&e.input.source.forEach(t=>{n.required||(n.required={}),n.required[t.name]=[t.type],t.options&&Object.keys(t.options).length>0&&n.required[t.name].push(t.options),["BOOLEAN","INT","FLOAT","STRING"].includes(`${t.type}`.toUpperCase())&&(n.required[t.name][1]={...n.required[t.name][1]||{},forceInput:!0}),p.required||(p.required=[]),p.required.push(t.name)}),e.input?.args&&e.input.args.forEach(t=>{if(n.optional||(n.optional={}),n.optional[t.name]=[t.type],t.options&&Object.keys(t.options).length>0){const{values:s,...y}=t.options;t.type==="COMBO"&&s&&(n.optional[t.name]=[s]),n.optional[t.name].push({...y,isOptional:!0})}else n.optional[t.name][1]={...n.optional[t.name][1]||{},isOptional:!0};p.optional||(p.optional=[]),p.optional.push(t.name)});const r=o.output,m=o.output_name,d=o.output_is_list;e.output&&e.output.forEach(t=>{r.push(t.type),m.push(t.name),d.push(!1)}),u[o.name]=o});const a=JSON.stringify(u,null,2);return l&&console.log(a),JSON.parse(a)}
  window.$pluginConfig2ComfyNodeDefs = pluginConfig2ComfyNodeDefs
})()
